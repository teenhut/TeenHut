(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,90597,e=>{"use strict";let a=(0,e.i(75254).default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);e.s(["Heart",()=>a],90597)},94983,e=>{"use strict";let a=(0,e.i(75254).default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);e.s(["MessageCircle",()=>a],94983)},37727,e=>{"use strict";let a=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>a],37727)},69074,69638,e=>{"use strict";var a=e.i(75254);let s=(0,a.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>s],69074);let t=(0,a.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},84431,e=>{"use strict";var a=e.i(43476),s=e.i(71645),t=e.i(67881),r=e.i(69074),l=e.i(37727),i=e.i(69638),d=e.i(97815);function c({isOpen:e,onClose:c,onUploadSuccess:n}){let{user:o}=(0,d.useAuth)(),[x,m]=(0,s.useState)(1),[h,p]=(0,s.useState)(!1),[u,f]=(0,s.useState)(null),[y,g]=(0,s.useState)(null),[b,v]=(0,s.useState)(""),[j,N]=(0,s.useState)(""),[w,k]=(0,s.useState)(!1),C=(0,s.useRef)(null);if(!e)return null;let S=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?p(!0):"dragleave"===e.type&&p(!1)},U=e=>{f(e);let a=new FileReader;a.onloadend=()=>{g(a.result),m(2)},a.readAsDataURL(e)},A=async()=>{if(!u||!b)return;k(!0);let e=new FormData;e.append("file",u),e.append("title",b),e.append("author",o?.username||"Anonymous"),e.append("userId",o?.id||"");try{(await fetch("/api/hypes",{method:"POST",body:e})).ok?(n(),D()):alert("Upload failed. Please try again.")}catch(e){console.error("Upload error:",e),alert("An error occurred during upload.")}finally{k(!1)}},D=()=>{m(1),f(null),g(null),v(""),N(""),k(!1),c()};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white text-primary rounded-xl w-full max-w-4xl h-[80vh] flex flex-col shadow-2xl overflow-hidden relative border border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:1===x?"Upload videos":`${b||"Draft"}`}),(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsx)(t.Button,{variant:"ghost",size:"icon",onClick:D,className:"text-gray-500 hover:text-primary hover:bg-gray-100",children:(0,a.jsx)(l.X,{className:"w-6 h-6"})})})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-0",children:1===x?(0,a.jsxs)("div",{className:`h-full flex flex-col items-center justify-center p-12 transition-colors ${h?"bg-gray-50":"bg-white"}`,onDragEnter:S,onDragLeave:S,onDragOver:S,onDrop:e=>{e.preventDefault(),e.stopPropagation(),p(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&U(e.dataTransfer.files[0])},children:[(0,a.jsx)("div",{className:"w-32 h-32 bg-gray-100 rounded-full flex items-center justify-center mb-6",children:(0,a.jsx)(r.Upload,{className:"w-16 h-16 text-gray-400"})}),(0,a.jsx)("h3",{className:"text-xl font-medium mb-2",children:"Drag and drop video files to upload"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm mb-8",children:"Your videos will be private until you publish them."}),(0,a.jsx)(t.Button,{onClick:()=>C.current?.click(),className:"bg-primary hover:bg-primary/90 text-white font-bold px-6 py-2 rounded-sm uppercase text-sm",children:"Select Files"}),(0,a.jsx)("input",{ref:C,type:"file",className:"hidden",accept:"image/*,video/*",onChange:e=>{e.preventDefault(),e.target.files&&e.target.files[0]&&U(e.target.files[0])}})]}):(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row h-full",children:[(0,a.jsxs)("div",{className:"flex-1 p-8 space-y-6 overflow-y-auto",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Details"}),(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsxs)("div",{className:"border border-gray-300 rounded-md px-3 py-2 bg-white focus-within:border-primary transition-colors",children:[(0,a.jsx)("label",{className:"text-xs text-gray-500 block mb-1",children:"Title (required)"}),(0,a.jsx)("input",{type:"text",value:b,onChange:e=>v(e.target.value),className:"w-full bg-transparent border-none outline-none text-primary placeholder-gray-400",placeholder:"Add a title that describes your video"})]})}),(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsxs)("div",{className:"border border-gray-300 rounded-md px-3 py-2 bg-white focus-within:border-primary transition-colors h-40",children:[(0,a.jsx)("label",{className:"text-xs text-gray-500 block mb-1",children:"Description"}),(0,a.jsx)("textarea",{value:j,onChange:e=>N(e.target.value),className:"w-full h-full bg-transparent border-none outline-none text-primary placeholder-gray-400 resize-none",placeholder:"Tell viewers about your video"})]})})]}),(0,a.jsxs)("div",{className:"w-full lg:w-1/3 bg-gray-50 p-6 border-l border-gray-200 flex flex-col",children:[(0,a.jsx)("div",{className:"aspect-9/16 bg-black rounded-lg overflow-hidden mb-4 relative shadow-md",children:y?u?.type.startsWith("video")?(0,a.jsx)("video",{src:y,controls:!0,className:"w-full h-full object-contain"}):(0,a.jsx)("img",{src:y,alt:"Preview",className:"w-full h-full object-contain"}):(0,a.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Generating preview..."})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-500",children:[(0,a.jsx)("span",{children:"Video Link"}),(0,a.jsx)("span",{className:"text-blue-600 cursor-pointer",children:"https://teenhut.com/v/..."})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-500",children:[(0,a.jsx)("span",{children:"Filename"}),(0,a.jsx)("span",{className:"truncate max-w-[150px]",children:u?.name})]})]})]})]})}),2===x&&(0,a.jsxs)("div",{className:"p-4 border-t border-gray-200 flex items-center justify-between bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.CheckCircle,{className:"w-5 h-5 text-green-600"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Checks complete. No issues found."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(t.Button,{variant:"ghost",onClick:()=>m(1),className:"text-gray-600 hover:text-primary hover:bg-gray-200",children:"Back"}),(0,a.jsx)(t.Button,{onClick:A,disabled:w||!b,className:"bg-primary hover:bg-primary/90 text-white font-bold px-6 rounded-sm uppercase text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Uploading...":"Publish"})]})]})]})})}e.s(["default",()=>c])},2153,e=>{"use strict";var a=e.i(43476),s=e.i(71645),t=e.i(67881),r=e.i(31343),l=e.i(58377),i=e.i(90597),d=e.i(94983),c=e.i(84431),n=e.i(22016),o=e.i(97815),x=e.i(91645);function m(){let{user:e}=(0,o.useAuth)(),[m,h]=(0,s.useState)(!1),[p,u]=(0,s.useState)([]),[f,y]=(0,s.useState)(!0),g=async()=>{if(e?.id)try{let a=await fetch(`${x.API_BASE_URL}/api/hypes?creatorId=${e.id}`),s=await a.json();u(s)}catch(e){console.error("Failed to fetch hypes:",e)}finally{y(!1)}};return(0,s.useEffect)(()=>{g()},[e?.id]),(0,a.jsxs)("main",{className:"min-h-screen bg-white text-primary font-sans",children:[(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsx)("div",{className:"flex justify-end mb-8",children:(0,a.jsxs)("div",{className:"bg-primary/5 border border-primary/10 rounded-xl p-4 text-right",children:[(0,a.jsxs)("div",{className:"font-bold text-xl mb-1",children:["â˜… Credits: ",e?.credits||0," XP"]}),(0,a.jsxs)("div",{className:"text-xs text-gray-600",children:["Earn credits by uploading",(0,a.jsx)("br",{}),"Hypes & helping others"]})]})}),(0,a.jsx)("h1",{className:"text-4xl font-bold text-center mb-8 tracking-tight",children:"Profile"}),(0,a.jsxs)("div",{className:"flex justify-center gap-4 mb-12",children:[(0,a.jsx)(t.Button,{className:"bg-primary text-white hover:bg-primary/90 px-8 font-bold rounded-full",children:"Hypes"}),(0,a.jsx)(t.Button,{variant:"ghost",className:"text-gray-600 hover:text-primary hover:bg-primary/5 px-8 rounded-full",onClick:()=>h(!0),children:"Upload"}),(0,a.jsx)(n.default,{href:"/analytics",children:(0,a.jsx)(t.Button,{variant:"ghost",className:"text-gray-600 hover:text-primary hover:bg-primary/5 px-8 rounded-full",children:"Analytics"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-5xl mx-auto mb-12",children:[p.map(e=>(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(n.default,{href:`/hypes/${e._id}`,children:(0,a.jsxs)("div",{className:"bg-primary/5 border border-primary/10 aspect-9/16 rounded-xl flex items-center justify-center relative group cursor-pointer hover:bg-primary/10 transition-colors overflow-hidden",children:["video"===e.mediaType?(0,a.jsx)("video",{src:e.mediaUrl,className:"w-full h-full object-cover",controls:!0}):(0,a.jsx)("img",{src:e.mediaUrl,alt:e.title,className:"w-full h-full object-cover"}),"video"!==e.mediaType&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-primary/20",children:(0,a.jsx)(r.Play,{className:"w-12 h-12 text-white fill-white"})})]})}),(0,a.jsxs)("div",{className:"flex justify-between px-2 font-bold text-lg text-gray-700",children:[(0,a.jsx)("span",{className:"truncate max-w-[150px]",children:e.title}),(0,a.jsxs)("div",{className:"flex gap-4 text-sm items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(i.Heart,{className:"w-4 h-4"})," ",e.likes]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(d.MessageCircle,{className:"w-4 h-4"})," ",e.comments.length]})]})]})]},e._id)),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsx)(t.Button,{className:"w-full h-[calc(100%-2rem)] aspect-9/16 md:aspect-auto md:h-auto py-8 bg-transparent border-2 border-dashed border-primary/20 text-gray-600 hover:text-primary hover:border-primary hover:bg-primary/5 rounded-xl text-xl font-bold transition-all",onClick:()=>h(!0),children:"+ Upload Hype"})})]}),(0,a.jsxs)("div",{className:"text-center flex items-center justify-center gap-2 text-gray-600 font-bold",children:[(0,a.jsx)(l.Flame,{className:"w-5 h-5 text-primary fill-primary"}),"Creators earn extra XP for daily uploads"]})]}),(0,a.jsx)(c.default,{isOpen:m,onClose:()=>h(!1),onUploadSuccess:()=>{g()}})]})}e.s(["default",()=>m])}]);