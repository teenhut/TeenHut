module.exports=[87998,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(11430),e=a.i(89986),f=a.i(40695),g=a.i(73320),h=a.i(53131),i=a.i(43205);function j(){let[a,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(!0),q=(0,c.useRef)(null),{user:r}=(0,h.useAuth)();(0,c.useEffect)(()=>{s()},[r]);let s=async()=>{try{let a=await fetch(`${i.API_BASE_URL}/api/hypes?userId=${r?.id||""}`);if(a.ok){let b=await a.json();j(b),b.length>0&&n(b[0]._id)}}catch(a){console.error("Failed to fetch hypes",a)}};(0,c.useEffect)(()=>{if(0!==a.length)return q.current=new IntersectionObserver(a=>{a.forEach(a=>{if(a.isIntersecting){let b=a.target.getAttribute("data-id");b&&b!==m&&(n(b),window.history.replaceState(null,"",`/hypes/${b}`))}})},{root:null,rootMargin:"0px",threshold:.6}),document.querySelectorAll(".hype-card").forEach(a=>{q.current?.observe(a)}),()=>{q.current&&q.current.disconnect()}},[a]);let t=()=>{p(a=>!a)};return(0,b.jsxs)("main",{className:"h-screen bg-white text-primary font-sans overflow-hidden flex flex-col items-center relative",children:[(0,b.jsxs)("div",{className:"absolute top-0 left-0 right-0 z-20 p-4 flex justify-between items-center bg-gradient-to-b from-white/80 to-transparent",children:[(0,b.jsx)("h1",{className:"text-xl font-bold",children:"Hypes"}),(0,b.jsxs)(f.Button,{onClick:()=>l(!0),className:"bg-primary/10 hover:bg-primary/20 text-primary backdrop-blur-md rounded-full px-6",children:[(0,b.jsx)(g.Upload,{className:"w-4 h-4 mr-2"})," Upload"]})]}),(0,b.jsx)("div",{className:"w-full max-w-md h-full overflow-y-scroll snap-y snap-mandatory scrollbar-hide pt-16",children:0===a.length?(0,b.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-center p-8 opacity-60",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:(0,b.jsx)(g.Upload,{className:"w-10 h-10"})}),(0,b.jsx)("h2",{className:"text-xl font-bold mb-2",children:"No Hypes Yet"}),(0,b.jsx)("p",{className:"mb-6",children:"Be the first to upload a hype!"}),(0,b.jsx)(f.Button,{onClick:()=>l(!0),className:"bg-primary text-white hover:bg-primary/90 font-bold rounded-full px-8",children:"Create Hype"})]}):a.map(a=>(0,b.jsx)("div",{className:"hype-card snap-center","data-id":a._id,children:(0,b.jsx)(d.default,{id:a._id,title:a.title,author:a.author,creatorId:a.creatorId,xp:a.xp,mediaUrl:a.mediaUrl,mediaType:a.mediaType,initialLikes:a.likes,initialIsLiked:a.isLiked,initialComments:a.comments,isActive:a._id===m,isGlobalMuted:o,onToggleGlobalMute:t})},a._id))}),(0,b.jsx)(e.default,{isOpen:k,onClose:()=>l(!1),onUploadSuccess:s})]})}a.s(["default",()=>j])}];

//# sourceMappingURL=app_hypes_page_tsx_18994ce7._.js.map